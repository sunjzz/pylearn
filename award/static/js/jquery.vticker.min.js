/*! vTicker 1.21 http://richhollis.github.com/vticker/ | http://richhollis.github.com/vticker/license/ | based on Jubgits vTicker http://www.jugbit.com/jquery-vticker-vertical-news-ticker/ */
(function(e){var a,h,b;a={speed:700,pause:4000,showItems:1,mousePause:!0,height:0,animate:!0,margin:0,padding:0,startPaused:!1,autoAppend:!0};h={moveUp:function(d,c){return h.showNextItem(d,c,"up")},moveDown:function(d,c){return h.showNextItem(d,c,"down")},nextItemState:function(f,d){var g,i;i=f.element.children("ul");g=f.itemHeight;0<f.options.height&&(g=i.children("li:first").height());g+=f.options.margin+2*f.options.padding;return{height:g,options:f.options,el:f.element,obj:i,selector:"up"===d?"li:first":"li:last",dir:d}},showNextItem:function(f,c,g){var i;i=h.nextItemState(f,g);i.el.trigger("vticker.beforeTick");g=i.obj.children(i.selector).clone(!0);"down"===i.dir&&i.obj.css("top","-"+i.height+"px").prepend(g);c&&c.animate?f.animating||h.animateNextItem(i,f):h.nonAnimatedNextItem(i);"up"===i.dir&&f.options.autoAppend&&g.appendTo(i.obj);return i.el.trigger("vticker.afterTick")},animateNextItem:function(d,c){c.animating=!0;return d.obj.animate("up"===d.dir?{top:"-="+d.height+"px"}:{top:0},c.options.speed,function(){e(d.obj).children(d.selector).remove();e(d.obj).css("top","0px");return c.animating=!1})},nonAnimatedNextItem:function(c){c.obj.children(c.selector).remove();return c.obj.css("top","0px")},nextUsePause:function(){var d,c;c=e(this).data("state");d=c.options;if(!c.isPaused&&!h.hasSingleItem(c)){return b.next.call(this,{animate:d.animate})}},startInterval:function(){var d,c;c=e(this).data("state");d=c.options;return c.intervalId=setInterval(function(f){return function(){return h.nextUsePause.call(f)}}(this),d.pause)},stopInterval:function(){var c;if(c=e(this).data("state")){return c.intervalId&&clearInterval(c.intervalId),c.intervalId=void 0}},restartInterval:function(){h.stopInterval.call(this);return h.startInterval.call(this)},getState:function(f,d){var g;if(!(g=e(d).data("state"))){throw Error("vTicker: No state available from "+f)}return g},isAnimatingOrSingleItem:function(c){return c.animating||this.hasSingleItem(c)},hasMultipleItems:function(c){return 1<c.itemCount},hasSingleItem:function(c){return !h.hasMultipleItems(c)},bindMousePausing:function(c){return function(d,f){return d.bind("mouseenter",function(){if(!f.isPaused){return f.pausedByCode=!0,h.stopInterval.call(this),b.pause.call(this,!0)}}).bind("mouseleave",function(){if(!f.isPaused||f.pausedByCode){return f.pausedByCode=!1,b.pause.call(this,!1),h.startInterval.call(this)}})}}(this),setItemLayout:function(g,d,j){var i;g.css({overflow:"hidden",position:"relative"}).children("ul").css({position:"absolute",margin:0,padding:0}).children("li").css({margin:j.margin,padding:j.padding});return isNaN(j.height)||0===j.height?(g.children("ul").children("li").each(function(){if(e(this).height()>d.itemHeight){return d.itemHeight=e(this).height()}}),g.children("ul").children("li").each(function(){return e(this).height(d.itemHeight)}),i=j.margin+2*j.padding,g.height((d.itemHeight+i)*j.showItems+j.margin)):g.height(j.height)},defaultStateAttribs:function(d,c){return{itemCount:d.children("ul").children("li").length,itemHeight:0,itemMargin:0,element:d,animating:!1,options:c,isPaused:c.startPaused,pausedByCode:!1}}};b={init:function(d){var c,f;e(this).data("state")&&b.stop.call(this);c=jQuery.extend({},a);d=e.extend(c,d);c=e(this);f=h.defaultStateAttribs(c,d);e(this).data("state",f);h.setItemLayout(c,f,d);d.startPaused||h.startInterval.call(this);if(d.mousePause){return h.bindMousePausing(c,f)}},pause:function(d){var c;c=h.getState("pause",this);if(!h.hasMultipleItems(c)){return !1}c.isPaused=d;c=c.element;if(d){return e(this).addClass("paused"),c.trigger("vticker.pause")}e(this).removeClass("paused");return c.trigger("vticker.resume")},next:function(d){var c;c=h.getState("next",this);if(h.isAnimatingOrSingleItem(c)){return !1}h.restartInterval.call(this);return h.moveUp(c,d)},prev:function(d){var c;c=h.getState("prev",this);if(h.isAnimatingOrSingleItem(c)){return !1}h.restartInterval.call(this);return h.moveDown(c,d)},stop:function(){h.getState("stop",this);return h.stopInterval.call(this)},remove:function(){var c;c=h.getState("remove",this);h.stopInterval.call(this);c=c.element;c.unbind();return c.remove()}};return e.fn.vTicker=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof c&&c?e.error("Method "+c+" does not exist on jQuery.vTicker"):b.init.apply(this,arguments)}})(jQuery);