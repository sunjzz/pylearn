function FastClick(e){var d;this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=10;this.layer=e;if(FastClick.notNeeded(e)){return}function f(a,b){return function(){return a.apply(b,arguments)}}if(deviceIsAndroid){e.addEventListener("mouseover",f(this.onMouse,this),true);e.addEventListener("mousedown",f(this.onMouse,this),true);e.addEventListener("mouseup",f(this.onMouse,this),true)}e.addEventListener("click",f(this.onClick,this),true);e.addEventListener("touchstart",f(this.onTouchStart,this),false);e.addEventListener("touchmove",f(this.onTouchMove,this),false);e.addEventListener("touchend",f(this.onTouchEnd,this),false);e.addEventListener("touchcancel",f(this.onTouchCancel,this),false);if(!Event.prototype.stopImmediatePropagation){e.removeEventListener=function(c,a,h){var b=Node.prototype.removeEventListener;if(c==="click"){b.call(e,c,a.hijacked||a,h)}else{b.call(e,c,a,h)}};e.addEventListener=function(b,a,c){var h=Node.prototype.addEventListener;if(b==="click"){h.call(e,b,a.hijacked||(a.hijacked=function(g){if(!g.propagationStopped){a(g)}}),c)}else{h.call(e,b,a,c)}}}if(typeof e.onclick==="function"){d=e.onclick;e.addEventListener("click",function(a){d(a)},false);e.onclick=null}}var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;var deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);var deviceIsIOS4=deviceIsIOS&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);var deviceIsIOSWithBadTarget=deviceIsIOS&&(/OS ([6-9]|\d{2})_\d/).test(navigator.userAgent);FastClick.prototype.needsClick=function(b){switch(b.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(b.disabled){return true}break;case"input":if((deviceIsIOS&&b.type==="file")||b.disabled){return true}break;case"label":case"video":return true}return(/\bneedsclick\b/).test(b.className)};FastClick.prototype.needsFocus=function(b){switch(b.nodeName.toLowerCase()){case"textarea":return true;case"select":return !deviceIsAndroid;case"input":switch(b.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return !b.disabled&&!b.readOnly;default:return(/\bneedsfocus\b/).test(b.className)}};FastClick.prototype.sendClick=function(e,h){var f,g;if(document.activeElement&&document.activeElement!==e){document.activeElement.blur()}g=h.changedTouches[0];f=document.createEvent("MouseEvents");f.initMouseEvent(this.determineEventType(e),true,true,window,1,g.screenX,g.screenY,g.clientX,g.clientY,false,false,false,false,0,null);f.forwardedTouchEvent=true;e.dispatchEvent(f)};FastClick.prototype.determineEventType=function(b){if(deviceIsAndroid&&b.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};FastClick.prototype.focus=function(d){var c;if(deviceIsIOS&&d.setSelectionRange&&d.type.indexOf("date")!==0&&d.type!=="time"){c=d.value.length;d.setSelectionRange(c,c)}else{d.focus()}};FastClick.prototype.updateScrollParent=function(d){var f,e;f=d.fastClickScrollParent;if(!f||!f.contains(d)){e=d;do{if(e.scrollHeight>e.offsetHeight){f=e;d.fastClickScrollParent=e;break}e=e.parentElement}while(e)}if(f){f.fastClickLastScrollTop=f.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(b){if(b.nodeType===Node.TEXT_NODE){return b.parentNode}return b};FastClick.prototype.onTouchStart=function(h){var f,g,e;if(h.targetTouches.length>1){return true}f=this.getTargetElementFromEventTarget(h.target);g=h.targetTouches[0];if(deviceIsIOS){e=window.getSelection();if(e.rangeCount&&!e.isCollapsed){return true}if(!deviceIsIOS4){if(g.identifier===this.lastTouchIdentifier){h.preventDefault();return false}this.lastTouchIdentifier=g.identifier;this.updateScrollParent(f)}}this.trackingClick=true;this.trackingClickStart=h.timeStamp;this.targetElement=f;this.touchStartX=g.pageX;this.touchStartY=g.pageY;if((h.timeStamp-this.lastClickTime)<200){h.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(e){var f=e.changedTouches[0],d=this.touchBoundary;if(Math.abs(f.pageX-this.touchStartX)>d||Math.abs(f.pageY-this.touchStartY)>d){return true}return false};FastClick.prototype.onTouchMove=function(b){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(b.target)||this.touchHasMoved(b)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.findControl=function(b){if(b.control!==undefined){return b.control}if(b.htmlFor){return document.getElementById(b.htmlFor)}return b.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(n){var l,m,h,j,k,i=this.targetElement;if(!this.trackingClick){return true}if((n.timeStamp-this.lastClickTime)<200){this.cancelNextClick=true;return true}this.cancelNextClick=false;this.lastClickTime=n.timeStamp;m=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(deviceIsIOSWithBadTarget){k=n.changedTouches[0];i=document.elementFromPoint(k.pageX-window.pageXOffset,k.pageY-window.pageYOffset)||i;i.fastClickScrollParent=this.targetElement.fastClickScrollParent}h=i.tagName.toLowerCase();if(h==="label"){l=this.findControl(i);if(l){this.focus(i);if(deviceIsAndroid){return false}i=l}}else{if(this.needsFocus(i)){if((n.timeStamp-m)>100||(deviceIsIOS&&window.top!==window&&h==="input")){this.targetElement=null;return false}this.focus(i);this.sendClick(i,n);if(!deviceIsIOS4||h!=="select"){this.targetElement=null;n.preventDefault()}return false}}if(deviceIsIOS&&!deviceIsIOS4){j=i.fastClickScrollParent;if(j&&j.fastClickLastScrollTop!==j.scrollTop){return true}}if(!this.needsClick(i)){n.preventDefault();this.sendClick(i,n)}return false};FastClick.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};FastClick.prototype.onMouse=function(b){if(!this.targetElement){return true}if(b.forwardedTouchEvent){return true}if(!b.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(b.stopImmediatePropagation){b.stopImmediatePropagation()}else{b.propagationStopped=true}b.stopPropagation();b.preventDefault();return false}return true};FastClick.prototype.onClick=function(d){var c;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(d.target.type==="submit"&&d.detail===0){return true}c=this.onMouse(d);if(!c){this.targetElement=null}return c};FastClick.prototype.destroy=function(){var b=this.layer;if(deviceIsAndroid){b.removeEventListener("mouseover",this.onMouse,true);b.removeEventListener("mousedown",this.onMouse,true);b.removeEventListener("mouseup",this.onMouse,true)}b.removeEventListener("click",this.onClick,true);b.removeEventListener("touchstart",this.onTouchStart,false);b.removeEventListener("touchmove",this.onTouchMove,false);b.removeEventListener("touchend",this.onTouchEnd,false);b.removeEventListener("touchcancel",this.onTouchCancel,false)};FastClick.notNeeded=function(d){var e;var f;if(typeof window.ontouchstart==="undefined"){return true}f=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(f){if(deviceIsAndroid){e=document.querySelector("meta[name=viewport]");if(e){if(e.content.indexOf("user-scalable=no")!==-1){return true}if(f>31&&window.innerWidth<=window.screen.width){return true}}}else{return true}}if(d.style.msTouchAction==="none"){return true}return false};FastClick.attach=function(b){return new FastClick(b)};if(typeof define!=="undefined"&&define.amd){define(function(){return FastClick})}else{if(typeof module!=="undefined"&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick}else{window.FastClick=FastClick}};